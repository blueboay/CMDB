{% extends 'index.html' %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="/static/table.css">
    <link rel="stylesheet" type="text/css" href="/static/am/hostgroup.css">
{% endblock %}

{% block text %}
<h3>主机信息如下：</h3>
<table class="altrowstable" id="alternatecolor">
    <thead>
        <tr>
            <th style="width: 20px">ID</th>
            <th style="width: 160px">服务器名称</th>
            <th style="width: 110px">IP地址</th>
            <th style="width: 70px">监控</th>
            <th style="width: 70px">自动化运维</th>
            <th style="width: 70px">堡垒机</th>
            <th style="width: 70px">密码记录</th>
            <th style="width: 270px">备注信息</th>
            <th style="width: 160px">操作</th>
        </tr>
    </thead>
    <tbody>
         {% for i in data %}
             <tr>
                 <td>{{ forloop.counter }}</td>
                 <td>{{ i.ServerName }}</td>
                 <td>{{ i.IP }}</td>
                 <td>{{ i.Zabbix }}</td>
                 <td>{{ i.Salt }}</td>
                 <td>{{ i.Jumpserver }}</td>
                 <td>{{ i.Keepass }}</td>
                 <td>{{ i.Note }}</td>
                 <td>
                     <a id="edit" href="/am/hostinfo2?name={{ i.id }}">详细信息</a>
                     <a id="edit" href="edit?host={{ i.id }}">编辑</a>
                     <a id="del" href="del?host={{ i.id }}">删除</a>
                 </td>
             </tr>
         {% endfor %}
    </tbody>
</table>
<div id="newadd">
    <a id="add" href="/am/addhost">新增主机</a>
</div>

<script>
    function altRows(id){
        if(document.getElementsByTagName){

            var table = document.getElementById(id);
            var rows = table.getElementsByTagName("tr");

            for(var i=0;i<rows.length;i++){
                if(i % 2 === 0){
                    rows[i].className = "evenrowcolor";
                }else{
                    rows[i].className = "oddrowcolor";
                }
            }
        }
    }

    window.onload=function(){
        altRows('alternatecolor');
    }
</script>
{% endblock %}
